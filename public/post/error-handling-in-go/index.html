<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Error Handling in Go - Duken Marga</title><meta name=description content="Error As Value
Error is treated as value in Go. No try/catch, but there is panic/recover.
Other programming languages is using try/catch for regular error,
while Go use panic/recover for fatal or unrecoverable condition such
as nil pointer dereference and so on.
Hence, panic/recover is not a direct replacement for try/catch.
For regular error, we need to return it like we return a variable.
Some people are alright with this decision, but some are not because
it makes the code verbose and you will find if err != nil are everywhere."><meta name=author content="👨🏻‍💻 👷‍♂️"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Duken Marga","url":"http:\/\/localhost:1313\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"http:\/\/localhost:1313\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"http:\/\/localhost:1313\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"http:\/\/localhost:1313\/post\/error-handling-in-go\/","name":"Error handling in go"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Duken Marga"},"headline":"Error Handling in Go","description":"Error As Value Error is treated as value in Go. No try\/catch, but there is panic\/recover. Other programming languages is using try\/catch for regular error, while Go use panic\/recover for fatal or unrecoverable condition such as nil pointer dereference and so on. Hence, panic\/recover is not a direct replacement for try\/catch.\nFor regular error, we need to return it like we return a variable. Some people are alright with this decision, but some are not because it makes the code verbose and you will find if err != nil are everywhere.\n","inLanguage":"en","wordCount":900,"datePublished":"2025-07-14T00:00:00\u002b07:00","dateModified":"2025-07-14T00:00:00\u002b07:00","image":"http:\/\/localhost:1313\/","keywords":["go"],"mainEntityOfPage":"http:\/\/localhost:1313\/post\/error-handling-in-go\/","publisher":{"@type":"Organization","name":"http:\/\/localhost:1313\/","logo":{"@type":"ImageObject","url":"http:\/\/localhost:1313\/","height":60,"width":60}}}</script><meta property="og:title" content="Error Handling in Go"><meta property="og:description" content="Error As Value
Error is treated as value in Go. No try/catch, but there is panic/recover.
Other programming languages is using try/catch for regular error,
while Go use panic/recover for fatal or unrecoverable condition such
as nil pointer dereference and so on.
Hence, panic/recover is not a direct replacement for try/catch.
For regular error, we need to return it like we return a variable.
Some people are alright with this decision, but some are not because
it makes the code verbose and you will find if err != nil are everywhere."><meta property="og:url" content="http://localhost:1313/post/error-handling-in-go/"><meta property="og:type" content="website"><meta property="og:site_name" content="Duken Marga"><meta name=twitter:title content="Error Handling in Go"><meta name=twitter:description content="Error As Value
Error is treated as value in Go. No try/catch, but there is panic/recover.
Other programming languages is using try/catch for regular error,
while Go use panic/recover for fatal or …"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@dukenmarga"><meta name=twitter:creator content="@dukenmarga"><link href=http://localhost:1313/favicon.svg rel=icon type=image/x-icon><meta name=generator content="Hugo 0.148.1"><link rel=alternate href=http://localhost:1313/index.xml type=application/rss+xml title="Duken Marga"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css integrity=sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v6.6.0/css/all.css integrity=sha384-h/hnnw1Bi4nbpD6kE7nYfCXzovi622sY5WBxww8ARKwpdLj5kUWjRuyiXaD1U2JT crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css integrity=sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu crossorigin=anonymous><link rel=stylesheet href=http://localhost:1313/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=http://localhost:1313/css/syntax.css><link rel=stylesheet href=http://localhost:1313/css/codeblock.css></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=http://localhost:1313/>Duken Marga</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title="Software Kurvatur Momen" href=/software-kurvatur-momen/>Software Kurvatur Momen</a></li><li class=navlinks-container><a class=navlinks-parent role=button tabindex=0>Categories</a><div class=navlinks-children><a href=/categories/structural-engineering/>Structural Engineering</a>
<a href=/categories/programming/>Programming</a></div></li><li><a title=Tags href=/tags>Tags</a></li><li><a title=Credit href=/credit/>Credit</a></li><li><a title=About href=/about/>About</a></li></ul></div></div></nav><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><div class=post-heading><h1>Error Handling in Go</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on 14 July 2025
&nbsp;|&nbsp;<i class="fas fa-clock"></i>&nbsp;5&nbsp;minutes
&nbsp;|&nbsp;<i class="fas fa-book"></i>&nbsp;900&nbsp;words
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Duken Marga</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><article role=main class=blog-post><h3 id=error-as-value>Error As Value</h3><p>Error is treated as value in Go. No <code>try/catch</code>, but there is <code>panic/recover</code>.
Other programming languages is using <code>try/catch</code> for regular error,
while Go use <code>panic/recover</code> for fatal or unrecoverable condition such
as nil pointer dereference and so on.
Hence, <code>panic/recover</code> is not a direct replacement for <code>try/catch</code>.</p><p>For regular error, we need to return it like we return a variable.
Some people are alright with this decision, but some are not because
it makes the code verbose and you will find <code>if err != nil</code> are everywhere.</p><p>This article will summarise several ways of how we can handle error
in Go and what are the options that we can use to make the error
usable and traceable.</p><h3 id=basic-method-is-just-return>Basic Method is Just Return</h3><p>Here is an example of basic error. You just return it as value and
check it just after calling the function.
The idiomatic way is to check it outside the function, not inside the
function itself.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Check the error just after calling the function</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>openFile</span>(<span style=color:#e6db74>&#34;my_log.txt&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>Close</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>openFile</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>File</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Open the file for reading</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// return the error like a value</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>file</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=wrap-and-return>Wrap and Return</h3><p>Rather than just return the plain error, we can wrap it.
This can be pretty useful especially when we have several level of functions.
Wrapping error means adding more context or information to the error
that we want to return. This way the caller can extract (unwrap) and
can check the exact cause of error.</p><p>To wrap an error, use <code>fmt.Errof</code> and verb <code>%w</code>. This will preserve
the original error. Usually we are adding the operation when wrapping the
original error such as <code>open CSV</code>. My other best practice is to add more
context like filename when we are sure that the original error comes from
third party or standard library that usually will not include such details.
Even if the external package includes them (details), it&rsquo;s still a good practice,
since we can&rsquo;t control what the external package will return to our function.
As additional tips, we add colon (<code>:</code>) to separate context.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>records</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>readCSV</span>(<span style=color:#e6db74>&#34;my_file.csv&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;read CSV: %v&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span> = <span style=color:#a6e22e>records</span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// continue..</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>readCSV</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) ([][]<span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Open CSV file</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>openCSV</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// wrap error</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> [][]<span style=color:#66d9ef>string</span>{}, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;open CSV: %w&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>Close</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Read file</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>reader</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>csv</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>file</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>records</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>reader</span>.<span style=color:#a6e22e>ReadAll</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// wrap error</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> [][]<span style=color:#66d9ef>string</span>{}, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;parse CSV %v: %w&#34;</span>, <span style=color:#a6e22e>filename</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>records</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>openCSV</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>File</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Check the CSV extension (has .csv)</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>filename</span>) &lt; <span style=color:#ae81ff>4</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>filename</span>[len(<span style=color:#a6e22e>filename</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>:] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;csv&#34;</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;not a CSV file: %v&#34;</span>, <span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Open the file for reading</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// wrap error, add some context</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;open file %v: %w&#34;</span>, <span style=color:#a6e22e>filename</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>file</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Example error</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span> <span style=color:#a6e22e>read</span> <span style=color:#a6e22e>CSV</span>: <span style=color:#a6e22e>open</span> <span style=color:#a6e22e>CSV</span>: <span style=color:#a6e22e>open</span> <span style=color:#a6e22e>file</span> <span style=color:#a6e22e>my_file</span>.<span style=color:#a6e22e>csv</span>: <span style=color:#a6e22e>open</span> <span style=color:#a6e22e>my_file</span>.<span style=color:#a6e22e>csv</span>: <span style=color:#a6e22e>no</span> <span style=color:#a6e22e>such</span> <span style=color:#a6e22e>file</span> <span style=color:#a6e22e>or</span> <span style=color:#a6e22e>directory</span>
</span></span><span style=display:flex><span><span style=color:#f92672>-</span> <span style=color:#a6e22e>read</span> <span style=color:#a6e22e>CSV</span>: <span style=color:#a6e22e>open</span> <span style=color:#a6e22e>CSV</span>: <span style=color:#a6e22e>not</span> <span style=color:#a6e22e>a</span> <span style=color:#a6e22e>CSV</span> <span style=color:#a6e22e>file</span>: <span style=color:#a6e22e>my_file</span>.<span style=color:#a6e22e>pdf</span>
</span></span></code></pre></div><h3 id=include-error-stack>Include Error Stack</h3><p>All the methods above doesn&rsquo;t include error stack. It&rsquo;s just returning the
error as string (technically as interface).
But, that&rsquo;s the core idea right? Error as value.</p><p>But, if you want to include the error stack, you can you errors package from
<code>github.com/pkg/errors</code>. Let&rsquo;s modify the above example and instead of using
<code>fmt.Errorf</code>, we use <code>errors.Wrap</code>. Don&rsquo;t forget to print the error as <code>%+v</code>.
Basically, this will print the error including the function name, filename,
line numbers, and it&rsquo;s stack.</p><p>Notice that if you are the first one who introduce error (such as the filename
doesn&rsquo;t have valid CSV extension), you still use <code>fmt.Errorf</code> since this is
the first item on the stack.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#75715e>//...</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/pkg/errors&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>records</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>readCSV</span>(<span style=color:#e6db74>&#34;my_file.csv&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;read CSV: %+v&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>_</span> = <span style=color:#a6e22e>records</span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// continue..</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>readCSV</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) ([][]<span style=color:#66d9ef>string</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Open CSV file</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>openCSV</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// wrap error</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> [][]<span style=color:#66d9ef>string</span>{}, <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>Wrap</span>(<span style=color:#a6e22e>err</span>, <span style=color:#e6db74>&#34;open CSV&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>defer</span> <span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>Close</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Read file</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>reader</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>csv</span>.<span style=color:#a6e22e>NewReader</span>(<span style=color:#a6e22e>file</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>records</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>reader</span>.<span style=color:#a6e22e>ReadAll</span>()
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// wrap error</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> [][]<span style=color:#66d9ef>string</span>{}, <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>Wrap</span>(<span style=color:#a6e22e>err</span>, <span style=color:#e6db74>&#34;parse CSV&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>records</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>openCSV</span>(<span style=color:#a6e22e>filename</span> <span style=color:#66d9ef>string</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>File</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Check the CSV extension (has .csv)</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>filename</span>) &lt; <span style=color:#ae81ff>4</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>filename</span>[len(<span style=color:#a6e22e>filename</span>)<span style=color:#f92672>-</span><span style=color:#ae81ff>3</span>:] <span style=color:#f92672>!=</span> <span style=color:#e6db74>&#34;csv&#34;</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Errorf</span>(<span style=color:#e6db74>&#34;not a CSV file: %v&#34;</span>, <span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Open the file for reading</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>file</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>os</span>.<span style=color:#a6e22e>Open</span>(<span style=color:#a6e22e>filename</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#75715e>// wrap error, add some context</span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>Wrap</span>(<span style=color:#a6e22e>err</span>, <span style=color:#e6db74>&#34;open file&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>file</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Example error</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>read</span> <span style=color:#a6e22e>CSV</span>: <span style=color:#a6e22e>open</span> <span style=color:#a6e22e>my_file</span>.<span style=color:#a6e22e>csv</span>: <span style=color:#a6e22e>no</span> <span style=color:#a6e22e>such</span> <span style=color:#a6e22e>file</span> <span style=color:#a6e22e>or</span> <span style=color:#a6e22e>directory</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>open</span> <span style=color:#a6e22e>file</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>.<span style=color:#a6e22e>openCSV</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>tmp</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sandbox1048947168</span><span style=color:#f92672>/</span><span style=color:#a6e22e>prog</span>.<span style=color:#66d9ef>go</span>:<span style=color:#ae81ff>52</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>.<span style=color:#a6e22e>readCSV</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>tmp</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sandbox1048947168</span><span style=color:#f92672>/</span><span style=color:#a6e22e>prog</span>.<span style=color:#66d9ef>go</span>:<span style=color:#ae81ff>25</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>.<span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>tmp</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sandbox1048947168</span><span style=color:#f92672>/</span><span style=color:#a6e22e>prog</span>.<span style=color:#66d9ef>go</span>:<span style=color:#ae81ff>14</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>runtime</span>.<span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>usr</span><span style=color:#f92672>/</span><span style=color:#a6e22e>local</span><span style=color:#f92672>/</span><span style=color:#66d9ef>go</span><span style=color:#f92672>-</span><span style=color:#a6e22e>faketime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>src</span><span style=color:#f92672>/</span><span style=color:#a6e22e>runtime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>proc</span>.<span style=color:#66d9ef>go</span>:<span style=color:#ae81ff>283</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>runtime</span>.<span style=color:#a6e22e>goexit</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>usr</span><span style=color:#f92672>/</span><span style=color:#a6e22e>local</span><span style=color:#f92672>/</span><span style=color:#66d9ef>go</span><span style=color:#f92672>-</span><span style=color:#a6e22e>faketime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>src</span><span style=color:#f92672>/</span><span style=color:#a6e22e>runtime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>asm_amd64</span>.<span style=color:#a6e22e>s</span>:<span style=color:#ae81ff>1700</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>open</span> <span style=color:#a6e22e>CSV</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>.<span style=color:#a6e22e>readCSV</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>tmp</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sandbox1048947168</span><span style=color:#f92672>/</span><span style=color:#a6e22e>prog</span>.<span style=color:#66d9ef>go</span>:<span style=color:#ae81ff>28</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>main</span>.<span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>tmp</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sandbox1048947168</span><span style=color:#f92672>/</span><span style=color:#a6e22e>prog</span>.<span style=color:#66d9ef>go</span>:<span style=color:#ae81ff>14</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>runtime</span>.<span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>usr</span><span style=color:#f92672>/</span><span style=color:#a6e22e>local</span><span style=color:#f92672>/</span><span style=color:#66d9ef>go</span><span style=color:#f92672>-</span><span style=color:#a6e22e>faketime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>src</span><span style=color:#f92672>/</span><span style=color:#a6e22e>runtime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>proc</span>.<span style=color:#66d9ef>go</span>:<span style=color:#ae81ff>283</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>runtime</span>.<span style=color:#a6e22e>goexit</span>
</span></span><span style=display:flex><span>	<span style=color:#f92672>/</span><span style=color:#a6e22e>usr</span><span style=color:#f92672>/</span><span style=color:#a6e22e>local</span><span style=color:#f92672>/</span><span style=color:#66d9ef>go</span><span style=color:#f92672>-</span><span style=color:#a6e22e>faketime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>src</span><span style=color:#f92672>/</span><span style=color:#a6e22e>runtime</span><span style=color:#f92672>/</span><span style=color:#a6e22e>asm_amd64</span>.<span style=color:#a6e22e>s</span>:<span style=color:#ae81ff>1700</span>
</span></span></code></pre></div><h3 id=summary>Summary</h3><p>In my experience, you don&rsquo;t need the whole stack to debug an issue.
Most of the time, print or use logger to show the error that has been wrapped
is sufficient enough for production use.</p><div class=blog-tags><a href=http://localhost:1313/tags/go/>go</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=http%3a%2f%2flocalhost%3a1313%2fpost%2ferror-handling-in-go%2f&amp;text=Error%20Handling%20in%20Go&amp;via=dukenmarga" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=http%3a%2f%2flocalhost%3a1313%2fpost%2ferror-handling-in-go%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fpost%2ferror-handling-in-go%2f&amp;title=Error%20Handling%20in%20Go" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=http%3a%2f%2flocalhost%3a1313%2fpost%2ferror-handling-in-go%2f&amp;title=Error%20Handling%20in%20Go" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=http%3a%2f%2flocalhost%3a1313%2fpost%2ferror-handling-in-go%2f&amp;title=Error%20Handling%20in%20Go" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=http%3a%2f%2flocalhost%3a1313%2fpost%2ferror-handling-in-go%2f&amp;description=Error%20Handling%20in%20Go" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section></article><ul class="pager blog-pager"><li class=previous><a href=http://localhost:1313/post/beberapa-tips-penting-uji-tekan-beton/ data-toggle=tooltip data-placement=top title="Beberapa Tips Uji Tekan Beton">&larr; Previous Post</a></li></ul><div class=disqus-comments><button id=show-comments class="btn btn-default" type=button>Show <span class=disqus-comment-count data-disqus-url=http://localhost:1313/post/error-handling-in-go>comments</span></button><div id=disqus_thread></div><script type=text/javascript>var disqus_config=function(){this.page.url="http://localhost:1313/post/error-handling-in-go"}</script></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=https://github.com/dukenmarga title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/dukenmarga title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-x-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/dukenmarga title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">👨🏻‍💻 👷‍♂️
&nbsp;&bull;&nbsp;&copy;
2025
&nbsp;&bull;&nbsp;
<a href=http://localhost:1313/>Duken Marga</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.148.1</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.js integrity=sha384-G0zcxDFp5LWZtDuRMnBkk3EphCK1lhEf4UEyEM693ka574TZGwo4IWwS6QLzM/2t crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous onload=renderMathInElement(document.body)></script><script src=https://code.jquery.com/jquery-3.7.0.slim.min.js integrity=sha384-w5y/xIeYixWvfM+A1cEbmHPURnvyqmVg5eVENruEdDjcyRLUSNej7512JQGspFUr crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js integrity=sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd crossorigin=anonymous></script><script src=http://localhost:1313/js/main.js></script><script type=text/javascript>$(function(){$("#show-comments").on("click",function(){var e="duken-marga";(function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)})(),$(this).hide()})})</script><script id=dsq-count-scr src=//duken-marga.disqus.com/count.js async></script></body></html>